{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider": "Warning",
      "Yarp.ReverseProxy.Forwarder.HttpForwarder": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Server.Urls": [
    "https://0.0.0.0:7080"
  ], //启动相关服务
  "HttpSsl": [
    {
      "Domain": "985dw.cn",
      "Pfx": [ "5947891_985dw.cn.pfx", "0R4c0LO4" ]
    },
    {
      "Domain": "www.985dw.cn",
      "Pfx": [ "nixue/5947891_985dw.cn.pfx", "0R4c0LO4" ]
    },
    {
      "Domain": "ha.985dw.cn",
      "Pem": [ "certs\\certbundle.pem", "certs\\privkey.pem" ]
    }
  ], //HTTPS相关配置
  "ReverseProxy": { //代理溯源
    "Routes": {
      "route4": {
        "ClusterId": "test_cluster",
        "TimeoutPolicy": "1s",
        "Match": {
          "Path": "{**catch-all}",
          "Hosts": [ "127.0.0.1:7080" ]
        },
        "Transforms": [
          {
            "DiyType": "W3CLogger",
            "Enabled": true,
            //"Level": "Debug",
            "LogName": "Ok"
          },
          {
            "DiyType": "BodySize",
            //"MaxRequestBodySize": "5242880",
            //"MaxRequestBodySize": 19264658,
            "Enabled": true
          },
          {
            "DiyType": "HttpsRedirect",
            //"StatusCode": 302,
            //"Url": "https://127.0.0.1:8888",
            "Enabled": false
          }
        ]
      },
      "route5": {
        "ClusterId": "test_cluster",
        "TimeoutPolicy": "5s",
        "Match": {
          "Path": "/a/{**catch-all}",
          "Hosts": [ "ok.cn" ]
        },
        "Transforms": [
          {
            "DiyType": "W3CLogger",
            "Enabled": true,
            "Level": "Debug",
            "LogName": "Ok"
          },
          {
            "DiyType": "HttpsRedirect",
            //"StatusCode": 302,
            //"Url": "https://127.0.0.1:8888",
            "Enabled": false
          },
          {
            "DiyType": "Cors",
            "Enabled": true,
            "AllowOrigin": "http://example.com",
            "AllowMethods": "GET,POST",
            "AllowHeaders": "Content-Type",
            "AllowCredentials": true
          },
          {
            "DiyType": "StaticFile",
            "Enabled": false,
            "RootPath": "wwwroot" // 本地文件夹，相对路径
          }
        ]
      }
    },
    "Clusters": {
      "test_cluster": {
        "Destinations": {
          "test_cluster/destination1": {
            //"Address": "file://local"
            "Address": "http://127.0.0.1:5001"
          }
        },
        "HttpRequest": {
          "ActivityTimeout": "00:10:00"
        }
      }
    }
  }
}

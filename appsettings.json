{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider": "Warning",
      "Yarp.ReverseProxy.Forwarder.HttpForwarder": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ServerIp": null, //服务器IP，默认null为不启用，是ClientFrame启用模式
  "Server.Urls": [ //启动相关服务
    "https://0.0.0.0:7080"
  ],
  "HttpSsl": { //HTTPS相关配置
    "nixue.top": {
      "Pfx": [ "certs\\cert.pfx", "certimate" ]
    },
    "www.nixue.top": {
      "Pfx": [ "certs\\cert.pfx", "certimate" ]
    },
    "nas.nixue.top": {
      "Pem": [ "certs\\certbundle.pem", "certs\\privkey.pem" ]
      //"Pfx": [ "certs/cert.pfx", "certimate" ]
    }
  },
  "ReverseProxy": { //代理溯源
    "Routes": {
      "route4": {
        "ClusterId": "test_cluster",
        "MaxRequestBodySize": -1, //禁用传输限制，字节单位
        "TimeoutPolicy": "60s",
        "Match": {
          "Path": "{**catch-all}",
          "Hosts": [ "nas.nixue.top:7080" ]
        },
        "Transforms": [
          {
            "DiyType": "W3CLogger",
            "Enabled": true,
            //"Level": "Debug",
            "LogName": "Ok"
          },
          {
            "DiyType": "HttpsRedirect",
            //"StatusCode": 302,
            //"Url": "https://127.0.0.1:8888",
            "Enabled": false
          }
        ]
      },
      "route5": {
        "ClusterId": "test_cluster",
        "TimeoutPolicy": "5s",
        "Match": {
          "Path": "/a/{**catch-all}",
          "Hosts": [ "ok.cn" ]
        },
        "Transforms": [
          {
            "DiyType": "W3CLogger",
            "Enabled": true,
            "Level": "Debug",
            "LogName": "Ok"
          },
          {
            "DiyType": "HttpsRedirect",
            //"StatusCode": 302,
            //"Url": "https://127.0.0.1:8888",
            "Enabled": false
          },
          {
            "DiyType": "Cors",
            "Enabled": true,
            "AllowOrigin": "http://example.com",
            "AllowMethods": "GET,POST",
            "AllowHeaders": "Content-Type",
            "AllowCredentials": true
          },
          {
            "DiyType": "StaticFile",
            "Enabled": false,
            "RootPath": "wwwroot" // 本地文件夹，相对路径
          }
        ]
      }
    },
    "Clusters": {
      "test_cluster": {
        "Destinations": {
          "test_cluster/destination1": {
            //"Address": "file://local"
            "Address": "http://192.168.20.24:5666"
          }
        },
        "HttpRequest": {
          "ActivityTimeout": "00:10:00"
        }
      }
    }
  }
}
